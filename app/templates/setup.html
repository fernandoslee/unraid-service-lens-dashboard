{% extends "base.html" %}

{% block title %}Setup{% endblock %}

{% block content %}
<article>
    <header><h2>Connect to Unraid Server</h2></header>
    {% if error %}
    <p class="error-text">{{ error }}</p>
    {% endif %}
    <form method="post" action="/setup">
        <label for="host">Unraid Server Address
            <input type="text" id="host" name="host" value="{{ host }}"
                   placeholder="tower.local or 192.168.1.100" required>
        </label>
        <label for="api_key">API Key
            <input type="password" id="api_key" name="api_key" value="{{ api_key }}"
                   placeholder="Your Unraid API key" required>
        </label>
        <label>
            <input type="checkbox" name="verify_ssl" role="switch">
            Verify SSL certificate
        </label>
        <button type="submit">Test Connection & Save</button>
    </form>
    <footer>
        <small>Create an API key in Unraid: Settings &rarr; Management Access &rarr; API Keys (ADMIN role required).</small>
    </footer>
</article>
{% endblock %}
